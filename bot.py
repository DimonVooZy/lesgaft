import logging
import os
import time
from flask import Flask
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import Updater, CommandHandler, CallbackContext, MessageHandler, Filters
import json

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.WARNING
)

# –û—Ç–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.getLogger("httpx").setLevel(logging.WARNING)
logging.getLogger("httpcore").setLevel(logging.WARNING)
logging.getLogger("telegram").setLevel(logging.WARNING)

logger = logging.getLogger(__name__)
logger.setLevel(logging.INFO)

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Render
BOT_TOKEN = os.environ.get('BOT_TOKEN', '')

# –§–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
STATS_FILE = "bot_stats.json"

def load_stats():
    try:
        if os.path.exists(STATS_FILE):
            with open(STATS_FILE, 'r', encoding='utf-8') as f:
                stats = json.load(f)
                if "üìö –ò—Å—Ç–æ—Ä–∏—è" in stats:
                    stats["üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã"] = stats["üìö –ò—Å—Ç–æ—Ä–∏—è"]
                    del stats["üìö –ò—Å—Ç–æ—Ä–∏—è"]
                return stats
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {e}")
    
    return {
        "üì¢ –ù–æ–≤–æ—Å—Ç–∏": 0,
        "üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π": 0,
        "üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã": 0,
        "üéì –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º": 0,
        "üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç–∞–º": 0,
        "‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞": 0,
        "üèÖ –¶–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ì–¢–û": 0,
        "üë®‚Äçüè´ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã": 0
    }

def save_stats(stats):
    try:
        with open(STATS_FILE, 'w', encoding='utf-8') as f:
            json.dump(stats, f, ensure_ascii=False, indent=2)
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: {e}")

button_stats = load_stats()

# –¢–µ–∫—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
WELCOME_TEXT = """
<b>–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –∫–∞–Ω–∞–ª–µ –∫–∞—Ñ–µ–¥—Ä—ã —Ç–µ–æ—Ä–∏–∏ –∏ –º–µ—Ç–æ–¥–∏–∫–∏ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</b>
"""

NEWS_TEXT = """
<b>üì¢ –ù–æ–≤–æ—Å—Ç–∏ –∫–∞—Ñ–µ–¥—Ä—ã</b>

–ó–¥–µ—Å—å –±—É–¥—É—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–æ–±—ã—Ç–∏—è –∫–∞—Ñ–µ–¥—Ä—ã —Ç–µ–æ—Ä–∏–∏ –∏ –º–µ—Ç–æ–¥–∏–∫–∏ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏!
"""

CONSULTATION_SCHEDULE_TEXT = """
<b>üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π</b>

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∫–∞—Ñ–µ–¥—Ä—ã:

<u>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:</u> 10:00 - 12:00
<u>–í—Ç–æ—Ä–Ω–∏–∫:</u> 14:00 - 16:00  
<u>–°—Ä–µ–¥–∞:</u> 10:00 - 12:00
<u>–ß–µ—Ç–≤–µ—Ä–≥:</u> 14:00 - 16:00
<u>–ü—è—Ç–Ω–∏—Ü–∞:</u> 10:00 - 12:00

–î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∫–∞—Ñ–µ–¥—Ä—ã.
"""

HISTORY_TEXT_PART1 = """
<b>üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã</b>

–ù–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–¥–µ–π –æ —Ç–æ–º, —á—Ç–æ —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –≤—Ö–æ–¥–∏—Ç—å –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—É—é –∂–∏–∑–Ω—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è, –±—ã–ª–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–æ <b>–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¶–ö –ö–ü–°–° –∏ –°–æ–≤–µ—Ç–∞ –ú–∏–Ω–∏—Å—Ç—Ä–æ–≤ –°–°–°–† ¬´–û –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø–æ–¥—ä–µ–º–µ –º–∞—Å—Å–æ–≤–æ—Å—Ç–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —Å–ø–æ—Ä—Ç–∞¬ª</b> (—Å–µ–Ω—Ç—è–±—Ä—å 1981). –û–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–æ —Å–æ–±–æ–π —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –Ω–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –∏ –æ—Ö–≤–∞—Ç—ã–≤–∞–ª–æ –≤–∞–∂–Ω–µ–π—à–∏–µ –µ–≥–æ –ø—Ä–æ–±–ª–µ–º—ã.

–ö–æ–º–∏—Ç–µ—Ç—É –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–µ –∏ —Å–ø–æ—Ä—Ç—É –ø—Ä–∏ –°–æ–≤–µ—Ç–µ –ú–∏–Ω–∏—Å—Ç—Ä–æ–≤ –°–°–°–† –∏ –µ–≥–æ –æ—Ä–≥–∞–Ω–∞–º –Ω–∞ –º–µ—Å—Ç–∞—Ö –ø—Ä–µ–¥–ª–∞–≥–∞–ª–æ—Å—å ¬´‚Ä¶–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –º–∞—Å—Å–æ–≤–æ–º —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã, —Å–ø–æ—Ä—Ç–∞, —Ç—É—Ä–∏–∑–º–∞, –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–æ–∫ –•–•VI —Å—ä–µ–∑–¥–∞ –ö–ü–°–° –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –≤ –±—ã—Ç –∫–∞–∂–¥–æ–π —Å–æ–≤–µ—Ç—Å–∫–æ–π —Å–µ–º—å–∏‚Ä¶¬ª. –í –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –≥–æ–≤–æ—Ä–∏–ª–æ—Å—å –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ¬´‚Ä¶–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏ —Ç—É—Ä–∏–∑–º—É.¬ª

–ú–∞—Å—Å–æ–≤–∞—è —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å—Ç–∞–ª–∞ –æ–±—â–µ–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ–º –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –Ω–æ–≤—ã—Ö —ç–Ω–µ—Ä–≥–∏—á–Ω—ã—Ö –º–æ–ª–æ–¥—ã—Ö –∫–∞–¥—Ä–æ–≤, –ø–æ—ç—Ç–æ–º—É –≤ —Å—Ç–µ–Ω–∞—Ö –≤–µ–¥—É—â–µ–≥–æ —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ –í–£–ó–∞ —Å—Ç—Ä–∞–Ω—ã ‚Äì <b>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º –¥–≤–∞–∂–¥—ã –æ—Ä–¥–µ–Ω–æ–Ω–æ—Å–Ω–æ–º –∏–Ω—Å—Ç–∏—Ç—É—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞ (–ì–î–û–ò–§–ö)</b> —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏–¥–µ—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ñ–µ–¥—Ä—ã —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º ¬´–ö–∞—Ñ–µ–¥—Ä–∞ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ —Ç—É—Ä–∏–∑–º–∞ (–ú–§–û–†–∏–¢)¬ª

<u>üèõÔ∏è 1983 –≥–æ–¥</u> - –∫–∞—Ñ–µ–¥—Ä–∞ –ú–§–û–†–∏–¢ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞. –ù–æ–≤—É—é –∫–∞—Ñ–µ–¥—Ä—É –±—ã–ª–æ –ø–æ—Ä—É—á–µ–Ω–æ –≤–æ–∑–≥–ª–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–º—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –≤ —Å–∏—Å—Ç–µ–º–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏—è –∏ —Å–ø–æ—Ä—Ç–∞ <b>–∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç—É –í—è—á–µ—Å–ª–∞–≤—É –ì–µ–æ—Ä–≥–∏–µ–≤–∏—á—É –ö–∞–Ω–µ–≤—Ü—É</b>.

–ö–∞—Ñ–µ–¥—Ä–∞ –≤ –Ω–∞—á–∞–ª–µ —Å–≤–æ–µ–≥–æ —Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±—ã–ª–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–µ, –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é —ç—Ç–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤ —à–∫–æ–ª–∞—Ö, –í–£–ó–∞—Ö, –Ω–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è—Ö –∏ —Å—Ä–µ–¥–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω—ã.
"""

HISTORY_TEXT_PART2 = """
<u>üë• 1983‚Äì1984 –≥–æ–¥—ã</u> - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∞ –∫–∞—Ñ–µ–¥—Ä—ã –≥—Ä–∞–º–æ—Ç–Ω—ã–º–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ–¥–∞–≥–æ–≥–∞–º–∏:
‚Ä¢ <b>–õ.–ü. –¢—Ä–æ—Ñ–∏–º–æ–≤–∞</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç
‚Ä¢ <b>–ê.–í. –õ–µ–±–µ–¥–µ–≤</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç  
‚Ä¢ <b>–†.–ú. –û—Ä–ª–æ–≤</b> - –¥.—ç.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä
‚Ä¢ <b>–î.–ì. –ù–µ–∑–Ω–∞–º–æ–≤</b>
‚Ä¢ <b>–õ.–í. –ñ–µ—Å—Ç—è–Ω–∏–∫–æ–≤</b>
‚Ä¢ <b>–ê.–ê. –ú–∞–ª—ã—à–µ–≤</b>

<u>üìÖ –° 1984 –≥–æ–¥–∞</u> - –∫–∞—Ñ–µ–¥—Ä–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.

–ü–µ—Ä–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–ª–∞ –∫–∞—Ñ–µ–¥—Ä–∞ –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –º–∞—Å—Å–æ–≤–æ—Å—Ç–∏ –±—ã–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Å—Ç–µ–º—ã <b>–ì–¢–û</b>.

<u>üåü –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∞:</u>
‚Ä¢ <b>–ì.–ê. –®–∞—à–∫–∏–Ω</b>
‚Ä¢ <b>–Æ.–ù. –§–µ–¥–æ—Ç–æ–≤</b>  
‚Ä¢ <b>–ê.–ù. –ü–æ—Ç–∞–ø—á—É–∫</b>
‚Ä¢ <b>–í.–ì. –ß–≤–∞–Ω–æ–≤</b>
‚Ä¢ <b>–¢.–í. –ü–ª–∞—Ç–æ–Ω–æ–≤–∞</b>
‚Ä¢ <b>–¢.–í. –ö–∞–∑–∞–Ω–∫–∏–Ω–∞</b> - —Ç—Ä–µ—Ö–∫—Ä–∞—Ç–Ω–∞—è –æ–ª–∏–º–ø–∏–π—Å–∫–∞—è —á–µ–º–ø–∏–æ–Ω–∫–∞

–ü–µ—Ä–≤—ã–µ –≥–æ–¥—ã –∫–∞—Ñ–µ–¥—Ä–∞ –≤—ã–ø—É—Å–∫–∞–ª–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤ —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ —Ç—É—Ä–∏–∑–º–∞.

–ù–∞ —Ñ–æ–Ω–µ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ –∫–∞—Ñ–µ–¥—Ä–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ <b>¬´—Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç—É—Ä–∏–∑–º¬ª</b> –∏ –æ–±—É—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–¥–µ—Ç –ø–æ –¥–≤—É–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è–º: —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–§–û–¢) –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç—É—Ä–∏–∑–º (–°–û–¢).
"""

HISTORY_TEXT_PART3 = """
<u>ü•á 1996‚Äì2000 –≥–æ–¥—ã</u> - –∫–∞—Ñ–µ–¥—Ä—É –≤–æ–∑–≥–ª–∞–≤–ª—è–ª–∞ —Ç—Ä–µ—Ö–∫—Ä–∞—Ç–Ω–∞—è –æ–ª–∏–º–ø–∏–π—Å–∫–∞—è —á–µ–º–ø–∏–æ–Ω–∫–∞ <b>–∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç –¢–∞—Ç—å—è–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–Ω–∞ –ö–∞–∑–∞–Ω–∫–∏–Ω–∞</b>.

<u>üéì 1999 –≥–æ–¥</u> - –≤ –†–æ—Å—Å–∏–∏ –≤–ø–µ—Ä–≤—ã–µ –≤ –º–∏—Ä–æ–≤–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞–≥–∏—Å—Ç—Ä–æ–≤ –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ¬´—Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç—É—Ä–∏–∑–º¬ª.

<u>üèîÔ∏è 2001‚Äì2011 –≥–æ–¥—ã</u> - –∫–∞—Ñ–µ–¥—Ä—É –≤–æ–∑–≥–ª–∞–≤–∏–ª <b>–∞–∫–∞–¥–µ–º–∏–∫ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∞–∫–∞–¥–µ–º–∏–∏ —Ç—É—Ä–∏–∑–º–∞ –Æ—Ä–∏–π –ù–∏–∫–æ–ª–∞–µ–≤–∏—á –§–µ–¥–æ—Ç–æ–≤</b>. –ö–∞—Ñ–µ–¥—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–µ–¥—É—â–µ–π –≤ –†–æ—Å—Å–∏–∏ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–º—É —Ç—É—Ä–∏–∑–º—É.

<u>üèõÔ∏è 2002 –≥–æ–¥</u> - —Å–æ–∑–¥–∞–Ω —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—á–µ–±–Ω–æ-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞.

<u>üî¨ 2000‚Äì2010 –≥–æ–¥—ã</u> - –Ω–∞—É—á–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
‚Ä¢ –ó–∞—â–∏—â–µ–Ω—ã 4 –¥–æ–∫—Ç–æ—Ä—Å–∫–∏–µ –¥–∏—Å—Å–µ—Ä—Ç–∞—Ü–∏–∏
‚Ä¢ –ó–∞—â–∏—â–µ–Ω—ã 5 –∫–∞–Ω–¥–∏–¥–∞—Ç—Å–∫–∏—Ö –¥–∏—Å—Å–µ—Ä—Ç–∞—Ü–∏–π  
‚Ä¢ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –±–æ–ª–µ–µ 500 –Ω–∞—É—á–Ω—ã—Ö —Ä–∞–±–æ—Ç

<u>üèÜ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:</u>
‚Ä¢ <b>–ú. –ú–∞–º–ª–µ–µ–≤</b> - –º–∞—Å—Ç–µ—Ä —Å–ø–æ—Ä—Ç–∞ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
‚Ä¢ <b>–ê. –õ–µ–≤–∏—Ü–∫–∏–π</b> - —á–µ–º–ø–∏–æ–Ω –º–∏—Ä–∞ –ø–æ —Ä–∞—Ñ—Ç–∏–Ω–≥—É (2004)
‚Ä¢ <b>–ú. –ö—Å–µ–Ω–æ—Ñ–æ–Ω—Ç–æ–≤ –∏ –ê. –ü–µ—Ç—Ä–∞—à–æ–≤</b> - —á–µ–º–ø–∏–æ–Ω—ã –†–æ—Å—Å–∏–∏ –ø–æ —Ç—É—Ä–∏–∑–º—É –∏ –ï–≤—Ä–æ–ø—ã –ø–æ —Ä–∞—Ñ—Ç–∏–Ω–≥—É (2006)
"""

HISTORY_TEXT_PART4 = """
<u>ü•å 2011‚Äì2015 –≥–æ–¥—ã</u> - –∫–∞—Ñ–µ–¥—Ä—É –≤–æ–∑–≥–ª–∞–≤–∏–ª <b>–≥–ª–∞–≤–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä —Å–±–æ—Ä–Ω–æ–π –†–æ—Å—Å–∏–∏ –ø–æ –∫—ë—Ä–ª–∏–Ω–≥—É –Æ.–í. –®—É–ª–∏–∫–æ</b>. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –æ–±—É—á–µ–Ω–∏—è ‚Äì ¬´–∫—ë—Ä–ª–∏–Ω–≥¬ª.

<u>üë®‚Äçüè´ –° 2015 –≥–æ–¥–∞</u> - –∫–∞—Ñ–µ–¥—Ä—É –≤–æ–∑–≥–ª–∞–≤–ª—è–µ—Ç <b>–∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç –ê.–ë. –ü–µ—Ç—Ä–æ–≤</b>. –ü–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–∞—Ñ–µ–¥—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ <b>¬´–ö–∞—Ñ–µ–¥—Ä–∞ —Ç–µ–æ—Ä–∏–∏ –∏ –º–µ—Ç–æ–¥–∏–∫–∞ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã¬ª (–¢–∏–ú–ú–§–û–†)</b>.

<u>üèÖ –ù–∞–≥—Ä–∞–¥—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:</u>
‚Ä¢ <b>–ì.–ú. –õ–∞–≤—Ä—É—Ö–∏–Ω–∞</b> - –û—Ç–ª–∏—á–Ω–∏–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã –∏ —Å–ø–æ—Ä—Ç–∞, –í–µ—Ç–µ—Ä–∞–Ω —Ç—Ä—É–¥–∞
‚Ä¢ <b>–ê.–ë. –ü–µ—Ç—Ä–æ–≤</b> - –û—Ç–ª–∏—á–Ω–∏–∫ –§–ö–∏–°, –ì—Ä–∞–º–æ—Ç–∞ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–§
‚Ä¢ <b>–¢.–í. –ì–æ—Ä–±—É–Ω–æ–≤–∞</b> - –ü–æ—á—ë—Ç–Ω–∞—è –≥—Ä–∞–º–æ—Ç–∞ –ö–æ–º–∏—Ç–µ—Ç–∞ –ø–æ –§–ö–∏–°, –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä–∞
‚Ä¢ <b>–Æ.–Æ. –í–∏—à–Ω—è–∫–æ–≤–∞</b> - –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –ú–∏–Ω–∏—Å—Ç—Ä–∞ —Å–ø–æ—Ä—Ç–∞, –ü–æ—á–µ—Ç–Ω–∞—è –≥—Ä–∞–º–æ—Ç–∞ –ú–∏–Ω—Å–ø–æ—Ä—Ç–∞ –†–§

<u>üë©‚Äçüíº –° –º–∞—Ä—Ç–∞ 2025 –≥–æ–¥–∞</u> - –∑–∞–≤–µ–¥—É—é—â–∏–π –∫–∞—Ñ–µ–¥—Ä–æ–π <b>–Æ.–Æ. –í–∏—à–Ω—è–∫–æ–≤–∞</b>.

<u>üéØ 2025 –≥–æ–¥</u> - –≤–æ–∑–æ–±–Ω–æ–≤–∏–ª –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å <b>—Ü–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –í–§–°–ö –ì–¢–û</b> –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º <b>–∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç–∞ –ê–∫—Å–µ–Ω–æ–≤–æ–π –ù.–ù.</b>
"""

HISTORY_TEXT_PART5 = """
<u>üí´ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:</u>
‚Ä¢ –õ–∞—É—Ä–µ–∞—Ç—ã –ö–æ–Ω–∫—É—Ä—Å–∞ –¥–∏–ø–ª–æ–º–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
‚Ä¢ –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –Ω–∞—É—á–Ω–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π  
‚Ä¢ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –∫—ë—Ä–ª–∏–Ω–≥–µ, –ø–æ–ª–∏–∞—Ç–ª–æ–Ω–µ, —Å—Ç—Ä–µ–ª—å–±–µ –∏–∑ –ª—É–∫–∞
‚Ä¢ –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –≤—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π

–í—ã–ø—É—Å–∫–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö, –¶–µ–Ω—Ç—Ä–∞—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∫–ª—É–±–∞—Ö, —Ñ–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä–∞—Ö, —É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø–æ –≤—Å–µ–º—É –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—É.
"""

APPLICANTS_TEXT = """
<b>üéì –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º</b>

<u>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:</u>
‚Ä¢ –ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç: 49.03.01 –§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å (–ø—Ä–æ—Ñ–∏–ª—å) ¬´–§–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å¬ª
‚Ä¢ –ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç: 49.03.04 –°–ø–æ—Ä—Ç. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å (–ø—Ä–æ—Ñ–∏–ª—å) ¬´–¢—Ä–µ–Ω–µ—Ä—Å–∫–æ-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å–ø–æ—Ä—Ç–∞¬ª (–ø–æ–ª–∏–∞—Ç–ª–æ–Ω), —Å –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ–º –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ ¬´–¢—Ä–µ–Ω–µ—Ä –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞. –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å¬ª
‚Ä¢ –ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞: 49.04.03 –°–ø–æ—Ä—Ç

–£–≤–∞–∂–∞–µ–º—ã–µ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã! –í—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–∏–µ–º–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–∏ –ù–ì–£ –∏–º. –ü.–§.–õ–µ—Å–≥–∞—Ñ—Ç–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
https://lesgaft.spb.ru/ru/commission/priyomnaya-komissiya
"""

STUDENTS_TEXT = """
<b>üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç–∞–º</b>

<u>–£—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:</u>
–î–æ—Å—Ç—É–ø –∫ —É—á–µ–±–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∑–∞–Ω—è—Ç–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç–∞–ª —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.

<u>–ó–∞—á–µ—Ç—ã –∏ —ç–∫–∑–∞–º–µ–Ω—ã:</u>
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –Ω–∞ –∫–∞—Ñ–µ–¥—Ä–µ –∏ —Å–∞–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.

<u>–ö—É—Ä—Å–æ–≤—ã–µ –∏ –¥–∏–ø–ª–æ–º–Ω—ã–µ —Ä–∞–±–æ—Ç—ã:</u>
–¢–µ–º—ã –∫—É—Ä—Å–æ–≤—ã—Ö –∏ –¥–∏–ø–ª–æ–º–Ω—ã—Ö —Ä–∞–±–æ—Ç —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞—é—Ç—Å—è —Å –Ω–∞—É—á–Ω—ã–º–∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏.
"""

SPORTS_WORK_TEXT = """
<b>‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞</b>

–ö–∞—Ñ–µ–¥—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –∂–∏–∑–Ω–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞:

‚Ä¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–±–æ—Ä–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
‚Ä¢ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
‚Ä¢ –†–∞–∑–≤–∏—Ç–∏–µ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ —Å–ø–æ—Ä—Ç–∞

–°—Ç—É–¥–µ–Ω—Ç—ã –∫–∞—Ñ–µ–¥—Ä—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö –≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ –∏ –≤—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è.
"""

GTO_TESTING_CENTER_TEXT = """
<b>üèÖ –¶–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ì–¢–û</b>

<b>–ü–û–î–ì–û–¢–û–í–ö–ê –ö –°–î–ê–ß–ï –ù–û–†–ú–ê–¢–ò–í–û–í –ò–°–ü–´–¢–ê–ù–ò–ô (–¢–ï–°–¢–û–í) –í–°–ï–†–û–°–°–ò–ô–°–ö–û–ì–û –§–ò–ó–ö–£–õ–¨–¢–£–†–ù–û-–°–ü–û–†–¢–ò–í–ù–û–ì–û –ö–û–ú–ü–õ–ï–ö–°–ê ¬´–ì–û–¢–û–í –ö –¢–†–£–î–£ –ò –û–ë–û–†–û–ù–ï¬ª (–ì–¢–û)</b>

<u>üìÖ –°—Ä–æ–∫–∏:</u> 
–ü–µ—Ä–≤—ã–π –∫–≤–∞—Ä—Ç–∞–ª 2026 –≥–æ–¥–∞ (—è–Ω–≤–∞—Ä—å ‚Äì –º–∞—Ä—Ç) 
–ø–æ –º–µ—Ä–µ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã

<u>üïí –ì—Ä–∞—Ñ–∏–∫ –∑–∞–Ω—è—Ç–∏–π:</u> 
2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, —Å—Ä–µ–¥–∞) —Å 17.00

<u>üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è:</u> 
21 500 —Ä—É–±–ª–µ–π

<u>üìç –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:</u> 
–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –î–µ–∫–∞–±—Ä–∏—Å—Ç–æ–≤, 35.

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫—É—Ä—Å–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–¥–∞—á–∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤ –í–§–°–ö –ì–¢–û –≤ —Ü–µ–Ω—Ç—Ä–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –í–§–°–ö –ì–¢–û –ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥.
"""

GTO_TESTING_CENTER_TEXT_PART2 = """
<u>‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫—É—Ä—Å–∞:</u>
‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –æ–ø—ã—Ç–Ω—ã—Ö —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É  
‚Ä¢ –û—Ç—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤ –í–§–°–ö –ì–¢–û  
‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏  
‚Ä¢ –î–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã (–æ—Ç 3-—Ö –¥–æ 10-—Ç–∏) –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ –≤—É–∑—ã!

<u>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å:</u>

<b>–ê–∫—Å–µ–Ω–æ–≤–∞ –ù–∞—Ç–∞–ª—å—è –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞</b>
–∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç –∫–∞—Ñ–µ–¥—Ä—ã –¢–∏–ú –ú–§–û–† / –Ω–∞—á–∞–ª—å–Ω–∏–∫ —Ü–µ–Ω—Ç—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è 
–í–§–°–ö –ì–¢–û –ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ 
üìß n.aksenova@lesgaft.spb.ru 
üìß gto@lesgaft.spb.ru 
üì± +7 904 618-33-11

<b>–§–æ–ª—å –ê–Ω–∞—Å—Ç–∞—Å–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞</b>
–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ–µ–¥—Ä—ã –¢–∏–ú –ú–§–û–† 
üìß a.foll@lesgaft.spb.ru 
üì± +7 960 004-49-98
"""

STAFF_TEXT = """
<b>üë®‚Äçüè´ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã</b>

<u>–ó–∞–≤–µ–¥—É—é—â–∏–π –∫–∞—Ñ–µ–¥—Ä–æ–π:</u>
<b>–í–∏—à–Ω—è–∫–æ–≤–∞ –Æ–ª–∏—è –Æ—Ä—å–µ–≤–Ω–∞</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç, –∑–∞–≤. –∫–∞—Ñ.

<u>–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä—Å–∫–æ-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤:</u>
‚Ä¢ <b>–õ–∞–≤—Ä—É—Ö–∏–Ω–∞ –ì–∞–ª–∏–Ω–∞ –ú–∏—Ö–∞–π–ª–æ–≤–Ω–∞</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç, –¥–æ—Ü–µ–Ω—Ç –∫–∞—Ñ.
‚Ä¢ <b>–ì–æ—Ä–±—É–Ω–æ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞</b> - —Å—Ç–∞—Ä—à–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
‚Ä¢ <b>–ê–∫—Å–µ–Ω–æ–≤–∞ –ù–∞—Ç–∞–ª—å—è –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç –∫–∞—Ñ.
‚Ä¢ <b>–ß–µ—Ä–Ω–∞—è –ê–Ω–∞—Å—Ç–∞—Å–∏—è –ò–≥–æ—Ä–µ–≤–Ω–∞</b> - –∫.–ø.–Ω., –¥–æ—Ü–µ–Ω—Ç, –¥–æ—Ü–µ–Ω—Ç –∫–∞—Ñ.
‚Ä¢ <b>–§–∏–≥–æ–Ω –Ø–∞–Ω–∞ –Æ—Ä—å–µ–≤–Ω–∞</b> - –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
‚Ä¢ <b>–°–æ–∫–æ–ª–æ–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á</b> - –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
‚Ä¢ <b>–°—Ç–µ–ø–∏–Ω –ò–ª—å—è –ï–≤–≥–µ–Ω—å–µ–≤–∏—á</b> - –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
‚Ä¢ <b>–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤–Ω–∞</b> - —Å—Ç–∞—Ä—à–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
‚Ä¢ <b>–§–æ–ª—å (—É—Ä. –ö–æ—Å—Ç—Ä–∏–∫–æ–≤–∞) –ê–Ω–∞—Å—Ç–∞—Å–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞</b> - –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ.
"""

def get_main_keyboard():
    keyboard = [
        ["üì¢ –ù–æ–≤–æ—Å—Ç–∏", "üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π"],
        ["üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã", "üéì –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º"],
        ["üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç–∞–º", "‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞"],
        ["üèÖ –¶–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ì–¢–û", "üë®‚Äçüè´ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã"]
    ]
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

def start(update: Update, context: CallbackContext):
    try:
        update.message.reply_text(WELCOME_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
        logger.info(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {update.effective_user.id} –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞")
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ start: {e}")

def handle_message(update: Update, context: CallbackContext):
    try:
        text = update.message.text
        
        if text == "üì¢ –ù–æ–≤–æ—Å—Ç–∏":
            button_stats["üì¢ –ù–æ–≤–æ—Å—Ç–∏"] += 1
            update.message.reply_text(NEWS_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π":
            button_stats["üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π"] += 1
            update.message.reply_text(CONSULTATION_SCHEDULE_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã":
            button_stats["üìö –ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ñ–µ–¥—Ä—ã"] += 1
            update.message.reply_text(HISTORY_TEXT_PART1, parse_mode='HTML')
            update.message.reply_text(HISTORY_TEXT_PART2, parse_mode='HTML')
            update.message.reply_text(HISTORY_TEXT_PART3, parse_mode='HTML')
            update.message.reply_text(HISTORY_TEXT_PART4, parse_mode='HTML')
            update.message.reply_text(HISTORY_TEXT_PART5, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üéì –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º":
            button_stats["üéì –ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º"] += 1
            update.message.reply_text(APPLICANTS_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç–∞–º":
            button_stats["üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç–∞–º"] += 1
            update.message.reply_text(STUDENTS_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞":
            button_stats["‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞"] += 1
            update.message.reply_text(SPORTS_WORK_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üèÖ –¶–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ì–¢–û":
            button_stats["üèÖ –¶–µ–Ω—Ç—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ì–¢–û"] += 1
            update.message.reply_text(GTO_TESTING_CENTER_TEXT, parse_mode='HTML')
            update.message.reply_text(GTO_TESTING_CENTER_TEXT_PART2, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        elif text == "üë®‚Äçüè´ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã":
            button_stats["üë®‚Äçüè´ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞—Ñ–µ–¥—Ä—ã"] += 1
            update.message.reply_text(STAFF_TEXT, parse_mode='HTML', reply_markup=get_main_keyboard())
            
        else:
            update.message.reply_text("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.", reply_markup=get_main_keyboard())
        
        save_stats(button_stats)
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: {e}")

def stat_command(update: Update, context: CallbackContext):
    try:
        stat_text = "<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π:</b>\n\n"
        for button, count in button_stats.items():
            stat_text += f"‚Ä¢ {button}: {count}\n"
        stat_text += f"\n–í—Å–µ–≥–æ: {sum(button_stats.values())}"
        update.message.reply_text(stat_text, parse_mode='HTML')
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ stat: {e}")

def statreset_command(update: Update, context: CallbackContext):
    try:
        for button in button_stats:
            button_stats[button] = 0
        save_stats(button_stats)
        update.message.reply_text("‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞!")
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ statreset: {e}")

def error_handler(update: Update, context: CallbackContext):
    logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: {context.error}")

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –±–æ—Ç–∞
bot_updater = None

def setup_bot():
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    global bot_updater
    
    if not BOT_TOKEN:
        logger.error("‚ùå BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
        return False
    
    try:
        bot_updater = Updater(BOT_TOKEN, use_context=True)
        dispatcher = bot_updater.dispatcher
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        dispatcher.add_handler(CommandHandler("start", start))
        dispatcher.add_handler(CommandHandler("stat", stat_command))
        dispatcher.add_handler(CommandHandler("statreset", statreset_command))
        dispatcher.add_handler(MessageHandler(Filters.text & ~Filters.command, handle_message))
        
        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
        dispatcher.add_error_handler(error_handler)
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
        bot_updater.start_polling()
        logger.info("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
        return True
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞: {e}")
        return False

def create_app():
    """–°–æ–∑–¥–∞–Ω–∏–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
    app = Flask(__name__)
    
    @app.route('/')
    def home():
        return """
        <!DOCTYPE html>
        <html>
        <head>
            <title>ü§ñ –ë–æ—Ç –∫–∞—Ñ–µ–¥—Ä—ã –¢–∏–ú –ú–§–û–†</title>
            <meta charset="utf-8">
            <style>
                body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
                .status { padding: 10px; border-radius: 5px; margin: 10px 0; }
                .running { background: #d4edda; color: #155724; }
                .stopped { background: #f8d7da; color: #721c24; }
                a { color: #007bff; text-decoration: none; }
                a:hover { text-decoration: underline; }
            </style>
        </head>
        <body>
            <h1>ü§ñ Telegram Bot –¥–ª—è –∫–∞—Ñ–µ–¥—Ä—ã –¢–∏–ú –ú–§–û–†</h1>
            <p>–ö–∞—Ñ–µ–¥—Ä–∞ —Ç–µ–æ—Ä–∏–∏ –∏ –º–µ—Ç–æ–¥–∏–∫–∏ –º–∞—Å—Å–æ–≤–æ–π —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã</p>
            <p>–ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</p>
            
            <div class="status running">
                <strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
            </div>
            
            <h2>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <ul>
                <li><a href="/health">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞</a></li>
                <li><a href="/stats">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞</a></li>
            </ul>
            
            <h2>üîó –°—Å—ã–ª–∫–∏</h2>
            <ul>
                <li><a href="https://lesgaft.spb.ru" target="_blank">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞</a></li>
            </ul>
        </body>
        </html>
        """
    
    @app.route('/health')
    def health():
        bot_status = "running" if bot_updater and bot_updater.running else "stopped"
        return {
            "status": "healthy",
            "service": "telegram-bot",
            "bot_status": bot_status,
            "timestamp": time.time(),
            "environment": "production"
        }, 200
    
    @app.route('/stats')
    def stats():
        return {
            "status": "running",
            "button_stats": button_stats,
            "total_requests": sum(button_stats.values()),
            "timestamp": time.time()
        }
    
    return app

def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞"""
    print("=" * 60)
    print("üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...")
    print("üìç –ö–∞—Ñ–µ–¥—Ä–∞ –¢–∏–ú –ú–§–û–† –ù–ì–£ –∏–º. –ü.–§. –õ–µ—Å–≥–∞—Ñ—Ç–∞")
    print("üåê –•–æ—Å—Ç–∏–Ω–≥: Render.com")
    print("üìö –í–µ—Ä—Å–∏—è: python-telegram-bot 13.15")
    print("üêç Python: 3.11.0")
    print("=" * 60)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
    print("ü§ñ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞...")
    bot_started = setup_bot()
    
    if bot_started:
        print("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
    else:
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ BOT_TOKEN.")
        return
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    app = create_app()
    port = int(os.environ.get('PORT', 10000))
    
    print(f"üåê Flask —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É {port}")
    print("üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints:")
    print("   /          - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞")
    print("   /health    - Health check")
    print("   /stats     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞") 
    print("=" * 60)
    print("‚ö° –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!")
    print("=" * 60)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º Flask (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤)
    app.run(host='0.0.0.0', port=port, debug=False)

if __name__ == "__main__":
    main()